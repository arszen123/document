CREATE TABLE User (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE category (id INT AUTO_INCREMENT NOT NULL, parent_id INT DEFAULT NULL, user_id INT DEFAULT NULL, permission_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, INDEX IDX_64C19C1727ACA70 (parent_id), INDEX IDX_64C19C1A76ED395 (user_id), INDEX IDX_64C19C1FED90CCA (permission_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE Version (id INT AUTO_INCREMENT NOT NULL, user_id INT DEFAULT NULL, file_id INT DEFAULT NULL, version INT NOT NULL, name VARCHAR(255) NOT NULL, uploaded DATETIME NOT NULL, INDEX IDX_70A1EA5FA76ED395 (user_id), INDEX IDX_70A1EA5F93CB796C (file_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE Permission (id INT AUTO_INCREMENT NOT NULL, download TINYINT(1) NOT NULL, upload TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE File (id INT AUTO_INCREMENT NOT NULL, category_id INT DEFAULT NULL, filename VARCHAR(255) NOT NULL, INDEX IDX_2CAD992E12469DE2 (category_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE category ADD CONSTRAINT FK_64C19C1727ACA70 FOREIGN KEY (parent_id) REFERENCES category (id);
ALTER TABLE category ADD CONSTRAINT FK_64C19C1A76ED395 FOREIGN KEY (user_id) REFERENCES User (id);
ALTER TABLE category ADD CONSTRAINT FK_64C19C1FED90CCA FOREIGN KEY (permission_id) REFERENCES Permission (id);
ALTER TABLE Version ADD CONSTRAINT FK_70A1EA5FA76ED395 FOREIGN KEY (user_id) REFERENCES User (id);
ALTER TABLE Version ADD CONSTRAINT FK_70A1EA5F93CB796C FOREIGN KEY (file_id) REFERENCES File (id);
ALTER TABLE File ADD CONSTRAINT FK_2CAD992E12469DE2 FOREIGN KEY (category_id) REFERENCES category (id);
INSERT INTO User (name) VALUES ('Mentol');
INSERT INTO User (name) VALUES ('Jade');